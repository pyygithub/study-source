<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Oozie | PYY在线笔记文档</title>
    <meta name="description" content="PYY在线笔记文档">
    <meta name="generator" content="VuePress 1.3.1">
    <link rel="icon" href="/study/img/logo.png">
    
    <link rel="preload" href="/study/assets/css/0.styles.adf990bf.css" as="style"><link rel="preload" href="/study/assets/js/app.1ed1a485.js" as="script"><link rel="preload" href="/study/assets/js/2.0088ba89.js" as="script"><link rel="preload" href="/study/assets/js/9.dd124e6e.js" as="script"><link rel="prefetch" href="/study/assets/js/10.ce685076.js"><link rel="prefetch" href="/study/assets/js/11.5e0f56c0.js"><link rel="prefetch" href="/study/assets/js/12.b98389c0.js"><link rel="prefetch" href="/study/assets/js/13.63647638.js"><link rel="prefetch" href="/study/assets/js/14.412c011b.js"><link rel="prefetch" href="/study/assets/js/15.54facbdb.js"><link rel="prefetch" href="/study/assets/js/16.c3d2e03c.js"><link rel="prefetch" href="/study/assets/js/17.168a2547.js"><link rel="prefetch" href="/study/assets/js/18.34ffd3b4.js"><link rel="prefetch" href="/study/assets/js/19.7fb6933a.js"><link rel="prefetch" href="/study/assets/js/20.2f77e69b.js"><link rel="prefetch" href="/study/assets/js/21.025c2b93.js"><link rel="prefetch" href="/study/assets/js/3.4f0babfc.js"><link rel="prefetch" href="/study/assets/js/4.76b3a244.js"><link rel="prefetch" href="/study/assets/js/5.4c3c36d6.js"><link rel="prefetch" href="/study/assets/js/6.ced6947b.js"><link rel="prefetch" href="/study/assets/js/7.bcf8ef67.js"><link rel="prefetch" href="/study/assets/js/8.00769b1f.js">
    <link rel="stylesheet" href="/study/assets/css/0.styles.adf990bf.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/study/" class="home-link router-link-active"><img src="/study/img/logo.png" alt="PYY在线笔记文档" class="logo"> <span class="site-name can-hide">PYY在线笔记文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/study/大数据/" class="nav-link">
  大数据
</a></div><div class="nav-item"><a href="/study/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/af08f637aff8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/pyy-admin-x" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/study/大数据/" class="nav-link">
  大数据
</a></div><div class="nav-item"><a href="/study/DevOps/" class="nav-link">
  DevOps
</a></div><div class="nav-item"><a href="https://www.jianshu.com/u/af08f637aff8" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/pyy-admin-x" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Dev Ops</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>大数据</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/study/大数据/Hadoop.html" class="sidebar-link">Hadoop</a></li><li><a href="/study/%E5%A4%A7%E6%95%B0%E6%8D%AE/" class="sidebar-link">介绍</a></li><li><a href="/study/大数据/Azkaban.html" class="sidebar-link">Azkaban</a></li><li><a href="/study/大数据/ElasticSearch.html" class="sidebar-link">ElasticSearch</a></li><li><a href="/study/大数据/Flume.html" class="sidebar-link">Flume</a></li><li><a href="/study/大数据/HBase.html" class="sidebar-link">HBase</a></li><li><a href="/study/大数据/Hive.html" class="sidebar-link">Hive</a></li><li><a href="/study/大数据/Hue.html" class="sidebar-link">Hue</a></li><li><a href="/study/大数据/Kafka.html" class="sidebar-link">Kafka</a></li><li><a href="/study/大数据/Oozie.html" class="active sidebar-link">Oozie</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#第-1-章-oozie简介" class="sidebar-link">第 1 章 Oozie简介</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#第-2-章-oozie-的功能模块介绍" class="sidebar-link">第 2 章 Oozie 的功能模块介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_2-1-模块" class="sidebar-link">2.1 模块</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_2-2-workflow-常用节点" class="sidebar-link">2.2 Workflow 常用节点</a></li></ul></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#第-3-章-oozie-安装" class="sidebar-link">第 3 章 Oozie 安装</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#第-4-章-oozie的使用" class="sidebar-link">第 4 章 Oozie的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_4-1-案例一：oozie调度shell脚本" class="sidebar-link">4.1 案例一：Oozie调度shell脚本</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_4-2-案例二：oozie逻辑调度执行多个job" class="sidebar-link">4.2 案例二：Oozie逻辑调度执行多个Job</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_4-3-案例三：oozie调度mapreduce任务" class="sidebar-link">4.3 案例三：Oozie调度MapReduce任务</a></li><li class="sidebar-sub-header"><a href="/study/大数据/Oozie.html#_4-4-案例四：oozie定时任务-循环任务" class="sidebar-link">4.4 案例四：Oozie定时任务/循环任务</a></li></ul></li></ul></li><li><a href="/study/大数据/Sqoop.html" class="sidebar-link">Sqoop</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="oozie"><a href="#oozie" class="header-anchor">#</a> Oozie</h1> <h2 id="第-1-章-oozie简介"><a href="#第-1-章-oozie简介" class="header-anchor">#</a> 第 1 章 Oozie简介</h2> <p><img src="data:image/png;base64,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" alt=""></p> <p>官网：http://oozie.apache.org/</p> <p>Oozie英文翻译为：驯象人。一个基于工作流引擎的开源框架，由Cloudera公司贡献给Apache。</p> <p>Oozie是一个工作流调度程序系统，用于管理Apache Hadoop作业。</p> <p>Oozie Workflow作业是操作的有向无环图（DAG）。</p> <p>Oozie Coordinator作业是由时间（频率）和数据可用性触发的Oozie Workflow周期性作业。</p> <p>Oozie与其余Hadoop堆栈集成在一起，支持开箱即用的几种类型的Hadoop作业（例如Java map-reduce，Streaming map-reduce，Pig，Hive，Sqoop和Distcp）以及系统特定的作业（例如Java程序和Shell脚本）。</p> <p>Oozie是一个可扩展，可靠且可扩展的系统。</p> <p>Oozie需要部署到Java Servlet容器中运行。</p> <p>功能相似的任务调度框架还有Azkaban和Zeus。</p> <h2 id="第-2-章-oozie-的功能模块介绍"><a href="#第-2-章-oozie-的功能模块介绍" class="header-anchor">#</a> 第 2 章 Oozie 的功能模块介绍</h2> <h3 id="_2-1-模块"><a href="#_2-1-模块" class="header-anchor">#</a> 2.1 模块</h3> <p><img src="/study/assets/img/oozie_module.fe8752f8.png" alt=""></p> <ul><li><p><strong>Workflow（工作流)</strong></p> <p>顺序执行流程节点，定义job任务执行，支持fork（分支多个节点），join（合并多个节点为一个）</p></li> <li><p><strong>Coordinator</strong></p> <p>定时触发workflow, 周期性执行workflow</p></li> <li><p><strong>Bundle</strong></p> <p>绑定多个Coordinator , 一起提交或触发所有coordinator</p></li></ul> <h3 id="_2-2-workflow-常用节点"><a href="#_2-2-workflow-常用节点" class="header-anchor">#</a> 2.2 Workflow 常用节点</h3> <ul><li><p><strong>控制流节点（Control Flow Nodes）</strong></p> <p>控制流节点一般都是定义在工作流开始或者结束的位置，比如start,end,kill等。以及提供工作流的执行路径机制，如decision，fork，join等。</p></li> <li><p><strong>动作节点（Action  Nodes）</strong></p> <p>负责执行具体动作的节点，比如：拷贝文件，执行某个Shell脚本等等。</p></li></ul> <h2 id="第-3-章-oozie-安装"><a href="#第-3-章-oozie-安装" class="header-anchor">#</a> 第 3 章 Oozie 安装</h2> <p>采用CDH安装</p> <p>CDH 安装Oozie时显示错误如下：</p> <p><img src="/study/assets/img/oozie_err.98d8571e.jpg" alt=""></p> <p>解决方案：
下载 ext-2.2.zip 内容到本机，上传到Oozie服务器上对应目录下：</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token builtin class-name">cd</span> /opt/cloudera/parcels/CDH/lib/oozie/libext
<span class="token function">unzip</span> ext-2.2.zip
<span class="token function">chown</span> oozie:oozie -R ext-2.2
</code></pre></div><p>再次访问web，正常了。</p> <h2 id="第-4-章-oozie的使用"><a href="#第-4-章-oozie的使用" class="header-anchor">#</a> 第 4 章 Oozie的使用</h2> <p><strong>大体步骤</strong>：</p> <ol><li>定义工作流程：编写workflow.xml</li> <li>将配置文件上传至HDFS指定路径</li> <li>oozie job 执行工作流程</li></ol> <h3 id="_4-1-案例一：oozie调度shell脚本"><a href="#_4-1-案例一：oozie调度shell脚本" class="header-anchor">#</a> 4.1 案例一：Oozie调度shell脚本</h3> <p>目标：使用Oozie调度Shell脚本</p> <p>分步实现：</p> <p>1）创建工作目录</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">mkdir</span> -p oozie-apps/shell
</code></pre></div><p>2）在oozie-apps/shell目录随意编写一个脚本test.sh</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token keyword">function</span> <span class="token function-name function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token builtin class-name">echo</span> <span class="token string">&quot;hello oozie&quot;</span> <span class="token operator">&gt;&gt;</span> /opt/oozie-apps/data/access.log
<span class="token punctuation">}</span>
hello
</code></pre></div><p>3）在oozie-apps/shell目录下创建两个文件——job.properties和workflow.xml文件</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token function">touch</span> job.properties
<span class="token function">touch</span> workflow.xml
</code></pre></div><p><strong>修改job.properties</strong></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment">#HDFS地址</span>
<span class="token attr-name">nameNode</span><span class="token punctuation">=</span><span class="token attr-value">hdfs://thtf-01:8020</span>
<span class="token comment">#ResourceManager地址</span>
<span class="token attr-name">jobTracker</span><span class="token punctuation">=</span><span class="token attr-value">thtf-01:8032</span>
<span class="token comment">#队列名称</span>
<span class="token attr-name">queueName</span><span class="token punctuation">=</span><span class="token attr-value">default</span>
<span class="token attr-name">examplesRoot</span><span class="token punctuation">=</span><span class="token attr-value">oozie-apps</span>
<span class="token comment">#指定workflow.xml的路径</span>
<span class="token attr-name">oozie.wf.application.path</span><span class="token punctuation">=</span><span class="token attr-value">${nameNode}/user/${user.name}/${examplesRoot}/shell</span>
<span class="token comment">#指定执行的脚本名称</span>
<span class="token attr-name">EXEC_SHELL_NAME</span><span class="token punctuation">=</span><span class="token attr-value">test.sh</span>
</code></pre></div><p><strong>修改workflow.xml</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>workflow-app</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>uri:oozie:workflow:0.4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>shell-wf<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--开始节点--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>start</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>shell-node<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!--动作节点--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>shell-node<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--shell动作--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>shell</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>uri:oozie:shell-action:0.2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 注意，这里的“${jobTracker}”是调用的job.properties中的变量，下面同理。--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>job-tracker</span><span class="token punctuation">&gt;</span></span>${jobTracker}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>job-tracker</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name-node</span><span class="token punctuation">&gt;</span></span>${nameNode}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name-node</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!--指定队列的名称--&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>mapred.job.queue.name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>${queueName}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--要执行的脚本--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exec</span><span class="token punctuation">&gt;</span></span>${EXEC_SHELL_NAME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exec</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 注意，argument是传参数，我们可以传递多个参数，这里就不是必须--&gt;</span>
        <span class="token comment">&lt;!-- &lt;argument&gt;name=zhangsn&lt;/argument&gt; --&gt;</span>
        <span class="token comment">&lt;!-- 指定hdfs执行脚本的路径--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>/user/root/oozie-apps/shell/${EXEC_SHELL_NAME}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>capture-output</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>shell</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- 当执行成功时会执行的标签，即会执行下面的“end标签”--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ok</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token comment">&lt;!-- 当执行出错时会执行的标签,即会执行下面的“fail标签”--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fail<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>action</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--kill节点--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>kill</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>fail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>message</span><span class="token punctuation">&gt;</span></span>Shell action failed, error message[${wf:errorMessage(wf:lastErrorNode())}]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>message</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>kill</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--结束节点--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>end</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>end<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>workflow-app</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>4）上传任务配置</p> <div class="language-shell extra-class"><pre class="language-shell"><code>hadoop fs -put /opt/soft/oozie-apps/shell/ /user/root/
</code></pre></div><p>5）执行任务</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#oozie job --oozie http://thtf-02:11000/oozie -config oozie-apps/shell/job.properties -run</span>
job: 0000004-200330172220549-oozie-oozi-W

</code></pre></div><p><img src="/study/assets/img/oozie_running.ed37d0ef.png" alt=""></p> <p><img src="/study/assets/img/oozie_rst.8431494e.png" alt=""></p> <p>6）杀死job任务</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#oozie job --oozie http://thtf-02:11000/oozie -kill 0000004-200330172220549-oozie-oozi-W</span>
</code></pre></div><p><img src="/study/assets/img/oozie_kill.5b024934.png" alt=""></p> <p>7）检查作业状态</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token punctuation">[</span>root@thtf-02 shell<span class="token punctuation">]</span><span class="token comment"># oozie job --oozie http://thtf-02:11000/oozie -info 0000004-200330172220549-oozie-oozi-W</span>
Job ID <span class="token builtin class-name">:</span> 0000004-200330172220549-oozie-oozi-W
------------------------------------------------------------------------------------------------------------------------------------
Workflow Name <span class="token builtin class-name">:</span> shell-wf
App Path      <span class="token builtin class-name">:</span> hdfs://thtf-01:8020/user/root/pyy-oozie-apps/shell
Status        <span class="token builtin class-name">:</span> SUCCEEDED
Run           <span class="token builtin class-name">:</span> <span class="token number">0</span>
User          <span class="token builtin class-name">:</span> root
Group         <span class="token builtin class-name">:</span> -
Created       <span class="token builtin class-name">:</span> <span class="token number">2020</span>-03-30 <span class="token number">11</span>:22 GMT
Started       <span class="token builtin class-name">:</span> <span class="token number">2020</span>-03-30 <span class="token number">11</span>:22 GMT
Last Modified <span class="token builtin class-name">:</span> <span class="token number">2020</span>-03-30 <span class="token number">11</span>:22 GMT
Ended         <span class="token builtin class-name">:</span> <span class="token number">2020</span>-03-30 <span class="token number">11</span>:22 GMT
CoordAction ID: -

Actions
-----------------------------------------------------------------------------------------
ID                                                                            Status    Ext ID                 Ext Status Err Code  
----------------------------------------------------------------------------------------
0000004-200330172220549-oozie-oozi-W@:start:                                  OK        -                      OK         -         
------------------------------------------------------------------------------------------------------------------------------------
0000004-200330172220549-oozie-oozi-W@shell-node                               OK        job_1585296023361_0006 SUCCEEDED  -         
------------------------------------------------------------------------------------------------------------------------------------
0000004-200330172220549-oozie-oozi-W@end                                      OK        -                      OK         -         
------------------------------------------------------------------------------------------------------------------------------------

</code></pre></div><p>8）查看日志</p> <div class="language-shell extra-class"><pre class="language-shell"><code><span class="token comment">#oozie job --oozie http://thtf-02:11000/oozie -log 0000004-200330172220549-oozie-oozi-W</span>
</code></pre></div><h3 id="_4-2-案例二：oozie逻辑调度执行多个job"><a href="#_4-2-案例二：oozie逻辑调度执行多个job" class="header-anchor">#</a> 4.2 案例二：Oozie逻辑调度执行多个Job</h3> <p>https://blog.csdn.net/sdut406/article/details/100333849</p> <h3 id="_4-3-案例三：oozie调度mapreduce任务"><a href="#_4-3-案例三：oozie调度mapreduce任务" class="header-anchor">#</a> 4.3 案例三：Oozie调度MapReduce任务</h3> <p>https://blog.csdn.net/sdut406/article/details/100404713</p> <h3 id="_4-4-案例四：oozie定时任务-循环任务"><a href="#_4-4-案例四：oozie定时任务-循环任务" class="header-anchor">#</a> 4.4 案例四：Oozie定时任务/循环任务</h3> <p>https://blog.csdn.net/sdut406/article/details/100527075</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/study/大数据/Kafka.html" class="prev">
        Kafka
      </a></span> <span class="next"><a href="/study/大数据/Sqoop.html">
        Sqoop
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/study/assets/js/app.1ed1a485.js" defer></script><script src="/study/assets/js/2.0088ba89.js" defer></script><script src="/study/assets/js/9.dd124e6e.js" defer></script>
  </body>
</html>
